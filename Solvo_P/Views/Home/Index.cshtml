@{
    ViewData["Title"] = "Dashboard";
}

<div class="container-fluid">
    <!-- Welcome Card -->
    <div class="row mb-4">
        <div class="col-12">
            <div class="card text-white" style="background: linear-gradient(90deg, #3f51f5, #3949ab); border: none;">
                <div class="card-body">
                    <div class="row align-items-center">
                        <div class="col-md-8">
                            <h1 class="card-title">Welcome to SOLVO! </h1>
                            <p class="card-text">Track your expenses, manage income, and achieve your financial goals.</p>
                        </div>
                        <div class="col-md-4 text-end">
                            <i class="bi bi-wallet2" style="font-size: 4rem; opacity: 0.7;"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Stats Cards -->
    <div class="row mb-4">
        <div class="col-md-3 mb-3">
            <div class="card income-card">
                <div class="card-body stat-card">
                    <i class="bi bi-arrow-up-circle text-primary" style="font-size: 2rem;"></i>
                    <h3 class="number">$4,500</h3>
                    <p class="text-muted mb-0">Monthly Income</p>
                </div>
            </div>
        </div>

        <div class="col-md-3 mb-3">
            <div class="card expense-card">
                <div class="card-body stat-card">
                    <i class="bi bi-arrow-down-circle text-danger" style="font-size: 2rem;"></i>
                    <h3 class="number">$2,800</h3>
                    <p class="text-muted mb-0">Monthly Expenses</p>
                </div>
            </div>
        </div>

        <div class="col-md-3 mb-3">
            <div class="card savings-card">
                <div class="card-body stat-card">
                    <i class="bi bi-piggy-bank text-success" style="font-size: 2rem;"></i>
                    <h3 class="number">$1,700</h3>
                    <p class="text-muted mb-0">Savings This Month</p>
                </div>
            </div>
        </div>

        <div class="col-md-3 mb-3">
            <div class="card goal-card">
                <div class="card-body stat-card">
                    <i class="bi bi-flag text-warning" style="font-size: 2rem;"></i>
                    <h3 class="number">3</h3>
                    <p class="text-muted mb-0">Active Goals</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Charts -->
    <div class="row mb-4">
        <div class="col-lg-8 mb-4">
            <div class="card">
                <div class="card-header bg-white">
                    <h5 class="mb-0">Income vs Expenses</h5>
                </div>
                <div class="card-body">
                    <canvas id="incomeExpenseChart" height="250"></canvas>
                </div>
            </div>
        </div>

        <div class="col-lg-4 mb-4">
            <div class="card">
                <div class="card-header bg-white">
                    <h5 class="mb-0">Expense Breakdown</h5>
                </div>
                <div class="card-body">
                    <canvas id="expenseChart" height="250"></canvas>
                </div>
            </div>
        </div>
    </div>

    <!-- Recent Transactions -->
    <div class="row">
        <div class="col-12">
            <div class="card">
                <div class="card-header bg-white d-flex justify-content-between align-items-center">
                    <h5 class="mb-0">Recent Transactions</h5>
                    <div>
                        <a href="/Income/Create" class="btn btn-sm btn-success me-2">
                            <i class="bi bi-plus-circle"></i> Add Income
                        </a>
                        <a href="/Expense/Create" class="btn btn-sm btn-danger">
                            <i class="bi bi-plus-circle"></i> Add Expense
                        </a>
                    </div>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Type</th>
                                    <th>Category</th>
                                    <th>Description</th>
                                    <th>Amount</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Jan 10, 2024</td>
                                    <td><span class="badge bg-success">Income</span></td>
                                    <td>Freelance Work</td>
                                    <td>Web Development Project</td>
                                    <td class="text-success">+$2,000.00</td>
                                </tr>
                                <tr>
                                    <td>Jan 8, 2024</td>
                                    <td><span class="badge bg-danger">Expense</span></td>
                                    <td>Shopping</td>
                                    <td>Clothes shopping</td>
                                    <td class="text-danger">-$800.00</td>
                                </tr>
                                <tr>
                                    <td>Jan 6, 2024</td>
                                    <td><span class="badge bg-danger">Expense</span></td>
                                    <td>Education</td>
                                    <td>Books and supplies</td>
                                    <td class="text-danger">-$1,500.00</td>
                                </tr>
                                <tr>
                                    <td>Jan 5, 2024</td>
                                    <td><span class="badge bg-success">Income</span></td>
                                    <td>Part-time Job</td>
                                    <td>Restaurant work</td>
                                    <td class="text-success">+$3,000.00</td>
                                </tr>
                                <tr>
                                    <td>Jan 4, 2024</td>
                                    <td><span class="badge bg-danger">Expense</span></td>
                                    <td>Entertainment</td>
                                    <td>Movie tickets</td>
                                    <td class="text-danger">-$300.00</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        // Income vs Expenses Chart
        const incomeExpenseCtx = document.getElementById('incomeExpenseChart').getContext('2d');
        new Chart(incomeExpenseCtx, {
            type: 'bar',
            data: {
                labels: ['Aug', 'Sep', 'Oct', 'Nov', 'Dec', 'Jan'],
                datasets: [
                    {
                        label: 'Income',
                        data: [4000, 4200, 3800, 4500, 4700, 4500],
                        backgroundColor: '#4361ee',
                        borderColor: '#3f37c9',
                        borderWidth: 1
                    },
                    {
                        label: 'Expenses',
                        data: [3200, 3100, 2900, 3300, 3400, 2800],
                        backgroundColor: '#f72585',
                        borderColor: '#b5179e',
                        borderWidth: 1
                    }
                ]
            },
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            callback: value => '$' + value
                        }
                    }
                }
            }
        });

        // Expense Breakdown Chart
        const expenseCtx = document.getElementById('expenseChart').getContext('2d');
        new Chart(expenseCtx, {
            type: 'doughnut',
            data: {
                labels: ['Groceries', 'Transport', 'Entertainment', 'Education', 'Shopping', 'Other'],
                datasets: [{
                    data: [25, 15, 10, 20, 15, 15],
                    backgroundColor: [
                        '#4361ee',
                        '#4cc9f0',
                        '#f72585',
                        '#ff9e00',
                        '#7209b7',
                        '#adb5bd'
                    ]
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'bottom'
                    }
                }
            }
        });
    </script>
}